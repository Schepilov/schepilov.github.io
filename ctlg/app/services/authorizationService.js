app.factory("authorizationService",["$state","$rootScope","authenticationService",function(a,b,c){var d=function(a){if(a){var c=[];return _.each(a,function(a,d){c.push(b.user.permissions[a])}),_.every(c)}return!0},e=function(){b.returnToState?a.go(b.returnToState.name,b.returnToStateParams):a.go("catalog.list")};return{isAuthorized:d,authorize:function(){return c.ping().then(function(){d(b.toState.permissions)||e()})},goToLandingPage:e}}]);