app.directive("imageResource",["$rootScope","$timeout",function(a,b){return{restrict:"A",scope:{item:"=imageResource",imageResourceType:"@",imageResourcePath:"@",imageResourceEvent:"@",imageResourceAction:"@"},link:function(c,d,e){var f=c.imageResourcePath+"/";switch(angular.isObject(c.item)?f+=String(c.item.id):f+=c.item,""!==c.imageResourceAction&&(f+="/"+c.imageResourceAction),c.imageResourceType){case"image":e.$set("src",f),c.imageResourceEvent&&a.$on(c.imageResourceEvent,function(a,c){b(function(){var a=f+(f.indexOf("?")<0?"?":"&");e.$set("src",a+"?name="+Date.now())},200)}),d.bind("error",function(){e.src!==e.errSrc&&e.$set("src","/assets/images/noImage.jpg")});break;default:d.css("backgroundImage","url('"+f+"')")}}}}]);