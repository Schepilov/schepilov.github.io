define(["appSettings","appRoutes","appBranding","services/dependencyResolverFor"],function(a,b,c,d){return window.app=angular.module("app",a.plugins),app.config(["$controllerProvider","$compileProvider","$filterProvider","$provide","$stateProvider","$urlRouterProvider","$httpProvider","$locationProvider","$animateProvider","uibDatepickerConfig",function(c,e,f,g,h,i,j,k,l,m){app.constant=g.constant,app.controller=c.register,app.directive=e.directive,app.filter=f.register,app.factory=g.factory,app.service=g.service,a.CORSEnabled&&(delete j.defaults.headers.common["X-Requested-With"],delete j.defaults.headers.post["Content-Type"],j.defaults.useXDomain=!0),j.interceptors.push("myHttpInterceptor"),l.classNameFilter(/^(?:(?!ng-animate-disabled).)*$/),k.hashPrefix("!"),void 0!==b.defaultRoutePath&&i.when("",b.defaultRoutePath),void 0!==b.routes&&angular.forEach(b.routes,function(a,b){var c=a.modulePath||a.module,e="app/modules/"+c+"/views/"+a.module+".html",f={authorize:["authorizationService",function(a){return a.authorize()}]};a.templateOnly||(f.moduleResolver=d("modules/"+c+"/module")),h.state(b,{url:a.url,templateUrl:e,resolve:f,authNotRequired:a.authNotRequired||!1,prettyName:a.prettyName,abstract:!!a.abstract,permissions:a.permissions||null,params:a.params||null})}),void 0!==b._404Path&&i.otherwise(b._404Path),m.showWeeks=!1}]),app.run(["$rootScope","$state","$stateParams","authenticationService","authorizationService","$uibModal","$window",function(b,e,f,g,h,i,j){function k(d){var e=c.brands[d];return!!e&&(b.customBranding=e,a.companyName=e.name,e.css&&(b.brandClass="brand-"+e.id,require(["css!../assets/branding/"+e.id+"/css/style.css"])),e)}k(j.location.hostname),b.configureBranding=function(a){if(a){var b=k(a);return e.reload(),b}},b.settings=a,b.dependencyResolverFor=d,b.settings.debug&&(j.$rootScope=b),b.httpHandler={responseError:function(b,c,d,f){_.find(a.httpErrorWhiteList,function(a){return 0===f.url.indexOf(a)})||(401===c?b.sessionTimeout?g.loginDialog.view():e.go("login"):i.open({templateUrl:"app/partials/errors/http.html",controller:["$scope","$uibModalInstance","$state",function(a,e,g){a.data=b,a.status=c,a.headers=d,a.config=f,a.ok=function(){e.dismiss()}}]}))}},b.$state=e,b.$on("$stateChangeStart",function(a,c,d){b.toState=c,b.toStateParams=d,b.htmlClass&&jQuery("html").removeClass(b.htmlClass)}),b.$on("$stateChangeSuccess",function(a,c){for(var d=c.name.split(".").reverse(),e=[],f="",g=d.length-1;g>=0;g--)f=f+"-"+d[g],e.push("page"+f);b.htmlClass=e.join(" "),jQuery("html").addClass(b.htmlClass)})}]),app});